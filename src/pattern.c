#include "pattern.h"
#include <string.h>

struct Pattern *init_pattern(char *pattern_name)
{
  struct Pattern patterns[] = {
    {
      "block", 2, 2, {
        {1, 1},
        {1, 1},
      },
    },
    {
      "beehive", 4, 3, {
        {0, 1, 0},
        {1, 0, 1},
        {1, 0, 1},
        {0, 1, 0},
      },
    },
    {
      "loaf", 4, 4, {
        {0, 1, 0, 0},
        {1, 0, 1, 0},
        {1, 0, 0, 1},
        {0, 1, 1, 0},
      },
    },
    {
      "boat", 3, 3, {
        {1, 1, 0},
        {1, 0, 1},
        {0, 1, 0},
      },
    },
    {
      "tub", 3, 3, {
        {0, 1, 0},
        {1, 0, 1},
        {0, 1, 0},
      },
    },
    {
      "blinker", 1, 3, {
        {1, 1, 1},
      },
    },
    {
      "toad", 4, 2, {
        {0, 1},
        {1, 1},
        {1, 1},
        {1, 0},
      },
    },
    {
      "beacon", 4, 4, {
        {1, 1, 0, 0},
        {1, 1, 0, 0},
        {0, 0, 1, 1},
        {0, 0, 1, 1},
      },
    },
    {
      "pulsar", 13, 13, {
        {0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1},
        {1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1},
        {1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1},
        {0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0},
        {1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1},
        {1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1},
        {1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1},
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
        {0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0},
      },
    },
    {
      "pentadecathlon", 3, 10, {
        {0, 0, 1, 0, 0, 0, 0, 1, 0, 0},
        {1, 1, 0, 1, 1, 1, 1, 0, 1, 1},
        {0, 0, 1, 0, 0, 0, 0, 1, 0, 0},
      },
    },
    {
      "glider", 3, 3, {
        {1, 0, 1},
        {0, 1, 1},
        {0, 1, 0},
      },
    },
    {
      "lightweight-spaceship", 5, 4, {
        {1, 0, 1, 0},
        {0, 0, 0, 1},
        {0, 0, 0, 1},
        {1, 0, 0, 1},
        {0, 1, 1, 1},
      },
    },
    {
      "middleweight-spaceship", 6, 5, {
        {0, 1, 0, 1, 0},
        {0, 0, 0, 0, 1},
        {1, 0, 0, 0, 1},
        {0, 0, 0, 0, 1},
        {0, 1, 0, 0, 1},
        {0, 0, 1, 1, 1},
      },
    },
    {
      "heavyweight-spaceship", 7, 5, {
        {0, 1, 0, 1, 0},
        {0, 0, 0, 0, 1},
        {1, 0, 0, 0, 1},
        {1, 0, 0, 0, 1},
        {0, 0, 0, 0, 1},
        {0, 1, 0, 0, 1},
        {0, 0, 1, 1, 1},
      },
    },
  };

  struct Pattern *pattern;
  for (int i = 0; i < sizeof(patterns) / sizeof(struct Pattern); i++) {
    if (strcmp(pattern_name, patterns[i].name) == 0) {
      pattern = &patterns[i];
      break;
    }
  }

  return pattern;
}
